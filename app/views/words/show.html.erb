<% provide(:title, @word.name) %>
<% provide(:header, @word.name) %>

<%= render "words/word_details", word: @word %>

<% if logged_in? %>
  <br>
  <div class="box-shadow-border">

    <% if Word.untagged_for(current_user).include?(@word) %>
      <div class="alert alert-warning">
          This word is Untagged.
      </div>
    <% else %>
      <h4>myTags</h4>
      <br>
      <% tags_for_a(@word).each do |source| %>
        <span class="basic-black-link">
          <%= link_to source.name, source %>
        </span>
        <br>
      <% end %>
    <% end %>

    <% unless unused_tags(@word).first.nil? %>
      <h4>Add Tag(s)</h4>
      <%= form_for :user_word_source,
        url: user_word_source_path,
        method: :post do |f|
      %>
        <%= hidden_field_tag :word_name, @word.name %>
        <%= f.label :source_id, "Sources", class: "sr-only" %>
        <%=
          f.collection_select :source_id,
          unused_tags(@word), :id, :name,
          prompt: true
        %>
        <%= f.submit class: "btn btn-default btn-sm", value: "add" %>
      <% end %>
    <% end %>
  </div>
<% end %>
