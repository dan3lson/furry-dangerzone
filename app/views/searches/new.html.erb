<% provide(:title, "define") %>
<% provide(:header, "define") %>

<%= render "searches/form" %>

<% if @query %>
  <% if @search_results.empty? %>
    <p class="lead">
      Sorry, we didn't find '<%= @query %>'. Try again!
    </p>
  <% else @search_results %>
    <% @search_results.each_with_index do |word, index| %>
    <div class="word_partial">
      <div class="pull-right">
        <!-- add a button that serves as an accordion  -->
        <%=
          link_to "add", "#", class: "btn btn-success btn-sm",
          :"data-toggle" => "collapse",
          :"data-target" => "#word<%= index %>",
          :"aria-expanded" => "false",
          :"aria-controls" => "word<%= index %>"
        %>
        <div class="collapse" id="word<%= index %>">
          <div class="well">
            ...
          </div>
        </div>
        <!-- the accordion will display a select box -->
        <%#= select_tag_field %>
        <!-- after selection, user clicks the below add btn via the form  -->
        <%= form_for :user_word, url: user_word_path, method: :post do |f| %>
          <%= hidden_field_tag :word_to_be_added, word.name %>
          <%= f.submit class: "btn btn-default btn-sm", value: "add" %>
        <% end %>
      </div>
      <%= render "shared/word", word: word %>
    </div>
    <% end %>
  <% end %>
<% end %>
