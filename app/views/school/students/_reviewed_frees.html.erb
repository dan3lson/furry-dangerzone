<div class="table-responsive">
	<table class="table table-bordered">
		<th>Word</th>
		<th>Game</th>
		<th>Grade</th>
		<th></th>
		<th></th>
		<% current_user.freestyles.reviewed.limit(30).each do |free| %>
			<tr>
				<td>
					<%= free.user_word.word.name %>
				</td>
				<td>
					<% if free.status == "pass" %>
						<%= free.game %>
					<% else %>
						<%= link_to free_game_link(
													free.user_word.word.id,
													free_game_num(free.game),
													free.id
												), class: "btn btn-secondary",
												remote: true do
						%>
							<%= icon "play-circle" %> <%= free.game %>
						<% end %>
					<% end %>
				</td>
				<td><%= icon_and_status(free) %></td>
				<td><%= icon "commenting-o" if free.has_comments? %></td>
				<td>
					<%= link_to "See more", "#",
							"data-toggle": "modal",
							"data-target": "#see-free-#{free.id}"
					%>
					<div class="modal fade"
							 id="see-free-<%= free.id %>"
							 tabindex="-1" role="dialog"
							 aria-labelledby="exampleModalLongTitle"
							 aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">
										Freestyle Response
										<br>
										<small class="text-muted">
											You can see what you wrote below and there may be
											Teacher comments, too.
										</small>
									</h5>
									<button type="button"
													class="close"
													data-dismiss="modal"
													aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<div class="card mb-3">
										<div class="card-block" data-free-id="<%= free.id %>">
											<h4 class="card-title">
												<%= free.game %>
												<div class="float-right">
													<% if free.status == "pass" %>
														<span class="text-success">
															<%= emoji "--1" %> pass
														</span>
													<% else %>
														<span class="text-danger">
															<%= emoji "-1" %> redo
														</span>
													<% end %>
												</div>
											</h4>
											<p class="card-text">
												<small><%= icon "quote-left" %></small>
												<%= highlight(
													free.input,
													free.user_word.word.name
												) %>
												<small><%= icon "quote-right" %></small>
											</p>
										</div>
										<div class="card-footer text-center text-muted">
											written <%= time_ago_in_words(free.created_at) %> ago
										</div>
									</div>
									<div class="card mb-3">
										<div class="card-block" data-free-id="<%= free.id %>">
											<h4 class="card-title">Teacher Comments</h4>
											<p class="card-text">
												<% if free.has_comments? %>
													<% free.comments.each do |comment| %>
														<small><%= icon "quote-left" %></small>
														<%= comment.body %>
													<% end %>
													<small><%= icon "quote-right" %></small>
												<% else %>
													<small class="text-muted">None</small>
												<% end %>
											</p>
										</div>
										<% if free.has_comments? %>
											<div class="card-footer text-center text-muted">
												last reviewed <%= time_ago_in_words(free.updated_at) %>
												ago
											</div>
										<% end %>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button"
													class="btn btn-secondary"
													data-dismiss="modal">
										Close
									</button>
								</div>
							</div>
						</div>
					</div>
				</td>
			</tr>
		<% end %>
	</table>
</div>
