var exNonExID = "<%= @e_non_e.id %>";
var $cardBody = $("div").find("[data-ex-non-ex-id='" + exNonExID + "']");
var $cardTextPartial = $("<%= j render(partial: 'school/example_non_examples/card_text', locals: { e_non_e: @e_non_e }) %>");
var $editPartial = $("<%= j render(partial: 'school/example_non_examples/edit_btn', locals: { e_non_e: @e_non_e }) %>");
var updated = "<%= @updated %>";
removeAlerts();

if (updated == "true") {
	$cardBody.html($cardTextPartial).fadeIn();
	$cardBody.prepend(createFlash("success", "Updated!"));
	$cardBody.append($editPartial);
} else {
	var $errorsPartial = $("<%= j render(partial: 'shared/error_messages', locals: { object: @e_non_e }) %>");
	$cardBody.prepend($errorsPartial);
}

function removeAlerts() {
	$(".alert").remove();
}

function createFlash(_class, text) {
	return createElem("div", "alert alert-" + _class)
				 .append(text)
				 .attr("role", "alert");
}

function createElem(elem, elemClass, elemID) {
	_class = elemClass || null;
	_id = elemID || null;
	return $("<" + elem + ">", { class: _class, id: _id });
}
