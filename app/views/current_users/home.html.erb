<% provide(:title, "Home") %>
<% provide(:header, "Home") %>

<div class="col-sm-8 col-sm-offset-2 box-shadow-border">
  <%= current_user.points %> XP
  <br>
  <%= remaining_points_to_level_up(current_user) %> many XP left to reach <%= display_level(current_user).to_i + 1 %>!
  <br>
  <%= current_user.points + remaining_points_to_level_up(current_user) %> = your next level points
  <div class="progress">
    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="<%= current_user.points %>"
      aria-valuemin="0" aria-valuemax="<%= current_user.points + remaining_points_to_level_up(current_user) %>" style="width: <%= current_user.points %>%">
        <span class="sr-only"><%= current_user.points %></span>
    </div>
  </div>
</div>

<div class="col-sm-8 col-sm-offset-2 box-shadow-border">
  <div class="instant-start-btns">
    <div class="col-xs-6 btn btn-custom-leksi-red">
      Play random word
    </div>
    <div class="col-xs-6 btn btn-custom-leksi-red">
      Challenge me
    </div>
  </div>

  <% if current_user.has_incomplete_fundamentals? %>
    <% @incomplete_games.each do |user_word| %>
      <% word = user_word.word %>
      <div>
        <div class="pull-right">
          <%= render "games/display_game_start_btn", user_word: user_word,
                                                     word: word
          %>
        </div>
        <div class="word-partial">
          <h4 class="tightness">
            <span class="basic-black-link">
              <%= link_to word.name.capitalize, word %>
            </span>
          </h4>
          <div class="word-details">
            <p>
              <span class="word-phonetic-spelling">
                <%= word.phonetic_spelling %>
              </span>
              &nbsp; &nbsp;
              <span class="word-part-of-speech">
                <em><%= word.part_of_speech %></em>
              </span>
            </p>
            <div>
              <% word.definition.split(";").take(3).each do |d| %>
                <p>
                  <span class="word-definition">&#8605; <%= d %></span>
                </p>
              <% end %>
            </div>
          </div>
        </div>
        <hr class="home-hr">
      </div>
    <% end %>
  <% else %>
    <%= render "current_users/no_words_guide" %>
  <% end %>
</div>
